from pathlib import Path
path = Path("DreamCatcher.AI/client/src/layout/layout.tsx")
text = path.read_text(encoding="utf-8")
start = text.index("      <header")
end = text.index("</header>", start) + len("</header>")
new_header = """      <header className={[\n            \"sticky top-0 z-50 border-b transition-all duration-300\",\n            scrolled\n                ? [\n                    \"backdrop-blur-md bg-white/80 border-black/10 shadow-[0_6px_20px_-10px_rgba(0,0,0,.25)]\",\n                    \"dark:bg-[#0b0e1a]/60 dark:border-white/10 dark:shadow-[0_8px_24px_-12px_rgba(0,0,0,.6)]\",\n                ].join(\" \")\n                : [\n                    \"backdrop-blur-sm bg-white/30 border-black/10 shadow-none\",\n                    \"dark:bg-white/5 dark;border-white/10 dark:shadow-none\",\n                ].join(\" \"),\n        ].join(\" ")}>\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"h-16 flex items-center justify-between gap-4\">\n            <Link to={createPageUrl(\"HomePage\")} className=\"flex items-center gap-2.5 group rounded-xl focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60\" aria-label=\"בית\">\n              <img src={logoMark} alt=\"DreamCatcher.AI\" className=\"w-16 h-16 transition-transform duration-200 group-hover:scale-105\" decoding=\"async\" loading=\"eager\" />\n              <div className=\"leading-tight select-none\">\n                <span className=\"text-[22px] md:text-[25px] font-bold tracking-tight text-slate-900 dark:text-white\">\n                  DreamCatcher.AI\n                </span>\n                <span className=\"block text-[13px] md:text-[14px] text-slate-700 dark:text-white/70\">\n                  החברים הטובים של המסר החלומי\n                </span>\n              </div>\n            </Link>\n\n            <nav className=\"hidden md:flex items-center gap-4\">\n              <NavItem to=\"/\">בית</NavItem>\n              <NavItem to=\"/articles\">מאמרים</NavItem>\n\n              {user ? (\n                <UserMenu />\n              ) : (\n                <>\n                  <NavItem to=\"/login\">התחברות</NavItem>\n                  <Link\n                    to=\"/register\"\n                    className=\"px-3.5 py-1.5 rounded-xl font-semibold\n                               text-white\n                               bg-gradient-to-l from-[#F59E0B] to-[#8B5CF6]\n                               hover:opacity-95 active:scale-[0.98]\n                               shadow-[0_6px_20px_-10px_rgba(139,92,246,.35)]\n                               dark:shadow-[0_6px_20px_-10px_rgba(139,92,246,.55)]\n                               transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60\"\n                  >\n                    הרשמה\n                  </Link>\n                </>\n              )}\n\n              <ThemeToggle />\n            </nav>\n\n            <button\n              onClick={() => setMobileOpen((v) => !v)}\n              className=\"md:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg border\n                         border-black/10 hover:bg-black/5\n                         dark:border-white/15 dark:hover:bg-white/10\n                         transition\"\n              aria-label=\"פתיחת תפריט\"\n              aria-expanded={mobileOpen}\n            >\n              <div className={[\n                \"relative w-5 h-5\",\n                \"before:absolute before:inset-x-0 before:top-1 before:h-[2px] before:bg-slate-900 dark:before:bg-white before:transition\",\n                \"after:absolute after:inset-x-0 after:bottom-1 before:content-[''] after:content-[''] after:h-[2px] after:bg-slate-900 dark:after:bg-white after:transition\",\n                mobileOpen\n                  ? \"before:translate-y-2 before:rotate-45 after:-translate-y-2 after:-rotate-45\"\n                  : \"\",\n              ].join(\" ")} />\n            </button>\n          </div>\n        </div>\n\n        {mobileOpen && (\n          <div\n            className=\"md:hidden fixed top-16 left-0 right-0 z-40\n                       border-t border-black/10 dark:border-white/10\n                       bg-white/80 dark:bg-[#0b0e1a]/70 backdrop-blur-md\"\n          >\n            <div className=\"max-w-7xl mx-auto px-4 py-3 flex flex-col gap-2\">\n              <NavItem to=\"/\" onClick={() => setMobileOpen(false)}>בית</NavItem>\n              <NavItem to=\"/articles\" onClick={() => setMobileOpen(false)}>מאמרים</NavItem>\n\n              {user ? (\n                <>\n                  <NavItem to=\"/account\" onClick={() => setMobileOpen(false)}>הפרופיל שלי</NavItem>\n                  <NavItem to=\"/me/dreams\" onClick={() => setMobileOpen(false)}>החלומות שלי</NavItem>\n                  <div className=\"mt-1 flex items-center justify-between\">\n                    <button\n                      onClick={() => {\n                        setMobileOpen(false)\n                        handleLogout()\n                      }}\n                      className=\"px-3.5 py-2 rounded-lg border\n                                 border-black/10 text-slate-900 hover:bg-black/5\n                                 dark:border-white/15 dark:text-white/90 dark:hover:bg-white/10\n                                 transition\"\n                    >\n                      התנתקות\n                    </button>\n                    <ThemeToggle />\n                  </div>\n                </>\n              ) : (\n                <>\n                  <NavItem to=\"/login\" onClick={() => setMobileOpen(false)}>התחברות</NavItem>\n                  <div className=\"mt-1 flex items-center justify-between\">\n                    <Link\n                      to=\"/register\"\n                      onClick={() => setMobileOpen(false)}\n                      className=\"px-3.5 py-2 rounded-xl font-semibold\n                                 text-slate-900 dark:text-white\n                                 bg-gradient-to-l from-[#F59E0B] to-[#8B5CF6]\n                                 hover:opacity-95\n                                 shadow-[0_6px_20px_-10px_rgba(139,92,246,.35)]\n                                 dark:shadow-[0_6px_20px_-10px_rgba(139,92,246,.55)]\"\n                    >\n                      הרשמה\n                    </Link>\n                    <ThemeToggle />\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        )}\n      </header>\n"""
text = text[:start] + new_header + text[end:]
path.write_text(text, encoding="utf-8")
